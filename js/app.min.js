(()=>{"use strict";window.addEventListener("load",()=>{const e=new Swiper(".mySwiper",{direction:"vertical",loop:!0,slidesPerView:1,mousewheel:!0,initialSlide:0}),t=Array.from(document.querySelectorAll(".arc-item")),n=document.getElementById("arcPath"),o=document.getElementById("arcSvg"),i=[-15,-20,-20,-20,-15],l=t.length,a=n.getTotalLength()/2-228;let s=!0,r=e.realIndex;const c=t.map(()=>a+228);function d(e){const d=e>r||r===l-1&&0===e?"down":"up";r=e;const h=o.getBoundingClientRect(),u=o.viewBox.baseVal,p=s?400:200,m=performance.now(),w=function(e,n){return t.map((t,o)=>{let i=o-e;i<-Math.floor(l/2)&&(i+=l),i>Math.floor(l/2)&&(i-=l);let r=null,c=0,d=1,h=null;return[-2,-1,0,1,2].includes(i)?(r=i+2,c=1,d=0===i?1.3:1):s?(r=i<0?0:4,c=0):(h="down"===n?{x:-200,y:-200}:{x:-200,y:window.innerHeight+200},c=0),{posIdx:r,opacity:c,scale:d,outside:h,lengthOnPath:null!==r?a+114*r:null}})}(e,d),y=c.slice();requestAnimationFrame(function o(l){let r=(l-m)/p;r>1&&(r=1);const g=(f=r,1-Math.pow(1-f,3));var f;t.forEach((e,t)=>{const o=w[t];let l,s,r=o.opacity;if(null!==o.posIdx){let e;e="down"===d&&0===y[t]?a-228:"up"===d&&0===y[t]?a+684:y[t];const c=e+(o.lengthOnPath-e)*g,p=n.getPointAtLength(c),m=h.width/u.width*.9,w=h.height/u.height*.92;l=p.x*m+i[o.posIdx],s=p.y*w,e!==y[t]&&g<.9&&(r=0)}else l=o.outside.x,s=o.outside.y;e.style.left=`${l}px`,e.style.top=`${s}px`,e.style.transform=`scale(${o.scale})`,e.style.opacity=r}),r<1?requestAnimationFrame(o):(t.forEach((e,t)=>{c[t]=w[t].lengthOnPath??(w[t].outside?0:c[t])}),t.forEach((t,n)=>{n===e?t.classList.add("active"):t.classList.remove("active")}),s&&(s=!1))})}t.forEach(e=>{e.style.position="absolute",e.style.transition="transform 0.3s ease, opacity 0.4s ease"}),d(e.realIndex),e.on("slideChangeTransitionStart",()=>d(e.realIndex)),t.forEach((t,n)=>t.addEventListener("click",()=>e.slideToLoop(n))),window.addEventListener("resize",()=>d(e.realIndex))})})();